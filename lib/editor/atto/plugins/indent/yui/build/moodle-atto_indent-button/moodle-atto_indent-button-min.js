YUI.add("moodle-atto_indent-button",function(e,t){e.namespace("M.atto_indent").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{initializer:function(){this.addButton({icon:"e/decrease_indent",title:"outdent",buttonName:"outdent",callback:this.outdent}),this.addButton({icon:"e/increase_indent",title:"indent",buttonName:"indent",callback:this.indent})},indent:function(){this.swapTags(function(){document.execCommand("indent",!1,null)})},outdent:function(){this.swapTags(this.get("host").safeOutdent,this.get("host"))},swapTags:function(t,n){var r=window.rangy.saveSelection();this.editor.all(".rangySelectionBoundary").setStyle("display",null),this.editor.all("blockquote").addClass("pre-existing"),this.get("host").replaceTags(this.editor.all(".pre-existing"),"div"),this.get("host").replaceTags(this.editor.all(".editor-indent"),"blockquote"),window.rangy.restoreSelection(r),r=window.rangy.saveSelection(),this.editor.all(".rangySelectionBoundary").setStyle("display",null),this.editor.all("blockquote.editor-indent").removeAttribute("style"),t.apply(n),this.editor.all("blockquote").addClass("editor-indent");var i=e.one("body.dir-ltr")?"marginLeft":"marginRight";this.editor.all("blockquote.editor-indent").setStyle(i,"30px"),this.get("host").replaceTags(this.editor.all("blockquote.editor-indent"),"div"),this.get("host").replaceTags(this.editor.all(".pre-existing"),"blockquote"),this.editor.all('[class="pre-existing"]').removeAttribute("class"),this.editor.all(".pre-existing").removeClass("pre-existing"),window.rangy.restoreSelection(r),window.rangy.removeMarkers(r),this.markUpdated()}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
